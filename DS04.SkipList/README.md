# SkipList



跳表分为很多层，0 层为普通链表。最大层为预设变量 `MAX_LEVEL` 。

**设计**

节点分为 `HeadNode` 与 `DataNode`，均使用基类指针 `BaseNode` 访问。

`HeadNode` 为虚拟头节点，不储存数据，因此其虚方法 `getKey` 和 `getVal` 均无意义，代码中直接选择抛出异常。

`HeadNode` 默认插入在最高层，这是为了保证每一层都有头节点。 

**插入**

随机层数插入，随机方法为：从第 0 层开始，每次有 p 的概率 +1 层

首先找插入位置，从 `MAX_LEVEL`  开始找（因为待插入元素可能插入在范围内的任意一层），沿表跳到目标位置进行双向链表插入。



### 问题

~~百万数据会有 `return 139`  的问题~~  fixed，原因为采用递归析构链表造成 RE



### 进度

- [x] 插入、查询
- [x] 删除



### 性能

千万级数据 顺序  `Key=int`  `Val=int`
| op     | time       |
| ------ | ---------- |
| insert | 8.953125s |
| find   | 5.937500s |
| del    | 4.187500s |